<div cdkDropList class="example-list" 
     [cdkDropListDisabled] = !editable 
     (cdkDropListDropped)="dropLineupRecord($event)" 
     *ngIf='lineup'>
  <div class="example-box alt" 
       *ngFor="let rosterRec of lineup.roster; index as i;" 
       cdkDrag
       [ngClass]="{ 'dirty-box': rosterRec.rosterOrder != (i+1) ||
          rosterRec.lineupPosition != rosterRec.originalPosition  }"
       >
       
    <select [(ngModel)]="rosterRec.lineupPosition" *ngIf="editable">
      <option *ngFor="let pos of availablePositions"  [value]="pos">{{pos}}</option>
    </select>
    <span *ngIf="!editable">{{rosterRec.lineupPosition}}</span>
    
      {{ rosterRec.player.name }} | {{ rosterRec.player.team }}

  <!--      <mat-form-field>
        <mat-label>Position</mat-label>
        <mat-select [(value)]="rosterRec.submitLineupPosition">
          <mat-option *ngFor="let pos of rosterRec.player.positionLog " [value]="pos">
            {{pos}}
          </mat-option>
        </mat-select>
         <mat-hint>{{rosterRec.player.positionLog | json}}</mat-hint>
      </mat-form-field> -->

        <strong *ngIf="rosterRec.player.stats">ABL Runs: {{ abl(rosterRec.player.stats.batting) | number }}</strong> 
        <span  *ngIf="rosterRec.player.stats" class=" d-none d-md-block">({{rosterRec.player.stats.batting.gamesPlayed}} G, 
        {{rosterRec.player.stats.batting.atBats}} AB,
        {{rosterRec.player.stats.batting.hits}} H,
        {{rosterRec.player.stats.batting.doubles}} 2B, 
        {{rosterRec.player.stats.batting.triples}} 3B, 
        {{rosterRec.player.stats.batting.homeRuns}} HR, 
        {{rosterRec.player.stats.batting.baseOnBalls + rosterRec.player.stats.batting.intentionalWalks}} BB/IBB, 
        {{rosterRec.player.stats.batting.hitByPitch}} HBP,
        {{rosterRec.player.stats.batting.stolenBases}} SB, 
        {{rosterRec.player.stats.batting.caughtStealing}} CS)
        </span>
<!--       {{rosterRec.player.positionLog | json}} -->
      
  </div>
</div>

<button (click)="_updateRosterRecord()" *ngIf="editable">
  Update
</button>
